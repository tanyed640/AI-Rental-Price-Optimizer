<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Rental Price Optimizer - Demo</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800 font-sans min-h-screen flex flex-col items-center py-10">

  <div class="bg-white shadow-lg rounded-xl p-8 max-w-md w-full mb-10">
    <h1 class="text-2xl font-bold mb-4 text-center">AI Rental Price Optimizer</h1>
    <p class="text-center mb-6">Enter property details to get dynamic AI-powered rent pricing suggestions.</p>

    <input id="zip-input" type="text" maxlength="5" placeholder="Enter ZIP Code" class="w-full border border-gray-300 p-3 rounded mb-3" />
    <input id="beds-input" type="number" min="0" placeholder="# of Bedrooms" class="w-full border border-gray-300 p-3 rounded mb-4" />

    <button id="lookup-btn" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Get AI Price Suggestion</button>

    <div id="result" class="mt-6 hidden bg-gray-100 p-4 rounded text-center">
      <h2 class="text-xl font-semibold mb-2">Recommended Rent:</h2>
      <p id="price" class="text-2xl font-bold text-green-600">$---</p>
      <p id="confidence" class="mt-2 text-sm text-gray-700">Confidence: --%</p>
      <p id="season" class="mt-2 text-sm text-gray-500">Seasonal Trend: --</p>
    </div>
  </div>

  <div class="bg-white shadow-md rounded-xl p-8 max-w-xl w-full mb-10">
    <h2 class="text-xl font-bold mb-4 text-center">What This Tool Does</h2>
    <p class="text-gray-700 mb-4 text-center">Automatically analyzes comps, demand, and seasonality to suggest optimal rent pricing for landlords and Airbnb hosts.</p>

    <h3 class="text-lg font-semibold mb-3">Key Features:</h3>
    <ul class="list-disc list-inside text-sm space-y-2">
      <li>✔️ Dynamic pricing API for STR/long-term platforms</li>
      <li>✔️ "Rent Estimator" plugin for listings</li>
      <li>✔️ AI Chatbot to justify rent to potential tenants</li>
      <li>✔️ Market demand & seasonal adjustment logic</li>
    </ul>

    <div class="mt-6 flex justify-around">
      <button id="api-docs-btn" class="bg-yellow-500 text-white py-2 px-4 rounded hover:bg-yellow-600">View API Docs</button>
      <button id="chatbot-btn" class="bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700">Try Chatbot Demo</button>
    </div>
  </div>

  <div class="text-sm text-gray-500 text-center mb-6">
    <p>Monetization: Monthly subscription or per-property fee</p>
    <p>Ideal clients: Landlords, property managers, investors</p>
  </div>

  <div id="chatbot-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white w-80 p-6 rounded-xl shadow-lg relative">
      <button class="absolute top-2 right-2 text-gray-600 hover:text-black" onclick="closeChatbot()">&times;</button>
      <h2 class="text-lg font-bold mb-2 text-center">AI Leasing Assistant Chatbot</h2>
      <div id="chat-log" class="border h-48 overflow-y-auto p-2 mb-4 bg-gray-50 text-sm"></div>
      <input id="chat-input" type="text" placeholder="Type your question..." class="w-full border p-2 rounded mb-2" />
      <button class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700" onclick="handleChat()">Send</button>
    </div>
  </div>

  <div id="api-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white w-full max-w-lg p-6 rounded-xl shadow-lg overflow-y-auto max-h-[90vh] relative">
      <button class="absolute top-2 right-2 text-gray-600 hover:text-black" onclick="closeApiDocs()">&times;</button>
      <h2 class="text-xl font-bold mb-4 text-center">Rental Price Optimizer API Documentation</h2>
      <p class="text-sm mb-4">Use our API to get real-time rental pricing suggestions based on comps, demand, and seasonality.</p>
      <h3 class="font-semibold mb-2">Endpoint:</h3>
      <code class="block mb-4 bg-gray-100 p-2 rounded text-xs">GET https://rentalboostapi.netlify.app/</code>
      <h3 class="font-semibold mb-2">Parameters:</h3>
      <ul class="list-disc list-inside text-sm mb-4">
        <li><strong>zip</strong> (required) - 5-digit ZIP code</li>
        <li><strong>bedrooms</strong> (required) - Number of bedrooms</li>
      </ul>
      <h3 class="font-semibold mb-2">Example Response:</h3>
      <pre class="bg-gray-100 p-2 rounded text-xs mb-4">{
  "recommended_rent": 4300,
  "confidence": 95,
  "seasonal_trend": "Peak Season"
}</pre>
      <h3 class="font-semibold mb-2">Notes:</h3>
      <ul class="list-disc list-inside text-sm">
        <li>API requires valid subscription key (contact support)</li>
        <li>Response times typically &lt; 500ms</li>
        <li>Supports short-term and long-term rental markets</li>
      </ul>
    </div>
  </div>

<script>
const cityData = {
  "fremont": { averageRent: 3100, season: "Moderate", confidence: 88 },
  "san francisco": { averageRent: 4100, season: "Peak Season", confidence: 92 },
  "los angeles": { averageRent: 3500, season: "Moderate", confidence: 85 },
  "new york": { averageRent: 3900, season: "Low Demand", confidence: 83 }
};

function handleChat() {
  const input = document.getElementById('chat-input');
  const chatLog = document.getElementById('chat-log');
  const userMessage = input.value.trim();
  if (!userMessage) return;

  chatLog.innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;
  const msg = userMessage.toLowerCase();

  let botReply = "I'm here to help with your rental questions!";

  // --- Custom NLP-ish Handling ---
  if (msg.includes("rent in")) {
    const foundCity = Object.keys(cityData).find(city => msg.includes(city));
    if (foundCity) {
      const { averageRent, season, confidence } = cityData[foundCity];
      botReply = `The average rent in ${capitalize(foundCity)} is around $${averageRent}/month. It's currently ${season} with a ${confidence}% confidence rating.`;
    } else {
      botReply = "I'm not sure about that city yet, but I’m learning! Try asking about Fremont, San Francisco, or Los Angeles.";
    }
  } else if (msg.includes("best time") && msg.includes("buy")) {
    botReply = "Historically, the best time to buy is during the fall and winter when demand dips. However, interest rates and your financial readiness matter most.";
  } else if (msg.includes("why")) {
    botReply = "The price reflects similar rentals, demand, and seasonality in this ZIP.";
  } else if (msg.includes("negotiate")) {
    botReply = "The suggested rent maximizes ROI, but you're welcome to discuss terms.";
  } else if (msg.includes("furnished")) {
    botReply = "Fully furnished units may command higher rent. We adjust for that.";
  } else if (msg.includes("pet") || msg.includes("pets")) {
    botReply = "Pet-friendly units often rent faster. A small premium may apply.";
  } else if (msg.includes("utilities")) {
    botReply = "Utilities are typically separate unless specified otherwise.";
  } else if (msg.includes("safe") || msg.includes("safety")) {
    botReply = "We factor neighborhood demand, but always check local safety resources.";
  }

  chatLog.innerHTML += `<p class="text-gray-500">Assistant: ${botReply}</p>`;
  input.value = "";
  chatLog.scrollTop = chatLog.scrollHeight;
}

function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
</script>



