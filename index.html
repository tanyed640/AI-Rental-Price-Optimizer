<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Set character encoding and make the site mobile-friendly -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Website title -->
  <title>AI Rental Price Optimizer</title>
  
  <!-- Link to Tailwind CSS for styling -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800 font-sans min-h-screen flex flex-col items-center py-10">

  <!-- Main form container -->
  <div class="bg-white shadow-lg rounded-xl p-8 max-w-md w-full mb-10">
    <h1 class="text-2xl font-bold mb-4 text-center">AI Rental Price Optimizer</h1>
    <p class="text-center mb-6">Enter property details to get dynamic AI-powered rent pricing suggestions.</p>

    <!-- Input for ZIP code -->
    <input id="zip-input" type="text" maxlength="5" placeholder="Enter ZIP Code" class="w-full border border-gray-300 p-3 rounded mb-3" />
    
    <!-- Input for number of bedrooms -->
    <input id="beds-input" type="number" min="0" placeholder="# of Bedrooms" class="w-full border border-gray-300 p-3 rounded mb-4" />

    <!-- Button to get price suggestion -->
    <button id="lookup-btn" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Get AI Price Suggestion</button>

    <!-- Price result box (hidden at first) -->
    <div id="result" class="mt-6 hidden bg-gray-100 p-4 rounded text-center">
      <h2 class="text-xl font-semibold mb-2">Recommended Rent:</h2>
      <p id="price" class="text-2xl font-bold text-green-600">$---</p>
      <p id="confidence" class="mt-2 text-sm text-gray-700">Confidence: --%</p>
      <p id="season" class="mt-2 text-sm text-gray-500">Seasonal Trend: --</p>
    </div>
  </div>

  <!-- Section that explains what the tool does -->
  <div class="bg-white shadow-md rounded-xl p-8 max-w-xl w-full mb-10">
    <h2 class="text-xl font-bold mb-4 text-center">What This Tool Does</h2>
    <p class="text-gray-700 mb-4 text-center">Automatically analyzes comps, demand, and seasonality to suggest optimal rent pricing for landlords and Airbnb hosts.</p>

    <!-- Feature list -->
    <h3 class="text-lg font-semibold mb-3">Key Features:</h3>
    <ul class="list-disc list-inside text-sm space-y-2">
      <li>✔️ Dynamic pricing API for STR/long-term platforms</li>
      <li>✔️ "Rent Estimator" plugin for listings</li>
      <li>✔️ AI Chatbot to justify rent to potential tenants</li>
      <li>✔️ Market demand & seasonal adjustment logic</li>
    </ul>

    <!-- Buttons for API docs and chatbot -->
    <div class="mt-6 flex justify-around">
      <button class="bg-yellow-500 text-white py-2 px-4 rounded hover:bg-yellow-600" onclick="alert('API docs coming soon')">View API Docs</button>
      <button id="chatbot-btn" class="bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700">Try Chatbot</button>
    </div>
  </div>

  <!-- Chatbot popup (hidden at first) -->
  <div id="chatbot-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white w-80 p-6 rounded-xl shadow-lg relative">
      <!-- Close button -->
      <button class="absolute top-2 right-2 text-gray-600 hover:text-black" onclick="closeChatbot()">&times;</button>
      
      <h2 class="text-lg font-bold mb-2 text-center">AI Leasing Assistant Chatbot</h2>
      
      <!-- Chat messages area -->
      <div id="chat-log" class="border h-48 overflow-y-auto p-2 mb-4 bg-gray-50 text-sm"></div>
      
      <!-- Chat input -->
      <input id="chat-input" type="text" placeholder="Type your question..." class="w-full border p-2 rounded mb-2" />
      
      <!-- Send button -->
      <button class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700" onclick="handleChat()">Send</button>
    </div>
  </div>

<script>
const demoData = {
  "90210": { base: 4200, season: "Peak Season", confidence: 95 },
  "10001": { base: 3300, season: "Moderate", confidence: 87 },
  "30301": { base: 2200, season: "Low Demand", confidence: 75 },
  "75001": { base: 2600, season: "Moderate", confidence: 82 },
  "60601": { base: 2800, season: "Peak Season", confidence: 90 },
};

document.getElementById('lookup-btn').addEventListener('click', () => {
  const zip = document.getElementById('zip-input').value.trim();
  const beds = parseInt(document.getElementById('beds-input').value);
  const resultBox = document.getElementById('result');
  const priceText = document.getElementById('price');
  const confidenceText = document.getElementById('confidence');
  const seasonText = document.getElementById('season');

  if (!zip || isNaN(beds) || beds < 0) {
    alert("Please enter a valid ZIP code and bedroom count.");
    return;
  }

  let price = 2500;
  let season = "Moderate";
  let confidence = 80;

  if (demoData[zip]) {
    price = demoData[zip].base + (beds * 150);
    season = demoData[zip].season;
    confidence = demoData[zip].confidence;
  } else {
    price += beds * 150;
  }

  priceText.textContent = `$${price} / month`;
  confidenceText.textContent = `Confidence: ${confidence}%`;
  seasonText.textContent = `Seasonal Trend: ${season}`;
  resultBox.classList.remove('hidden');
});

document.getElementById('chatbot-btn').addEventListener('click', () => {
  document.getElementById('chatbot-modal').classList.remove('hidden');
  document.getElementById('chat-log').innerHTML = '<p class="text-gray-500">Assistant: Hi there! Ask me anything about this rental property.</p>';
});

function closeChatbot() {
  document.getElementById('chatbot-modal').classList.add('hidden');
}

function handleChat() {
  const input = document.getElementById('chat-input');
  const chatLog = document.getElementById('chat-log');
  const userMessage = input.value.trim();

  if (!userMessage) return;

  chatLog.innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;

  let botReply = "Good question! This rental is priced competitively based on current market data.";
  const lowerMsg = userMessage.toLowerCase();

  if (lowerMsg.includes("why")) botReply = "The suggested rent reflects local comps, demand trends, and seasonality.";
  else if (lowerMsg.includes("negotiate")) botReply = "Rental prices are optimized for ROI but feel free to discuss terms with the landlord.";
  else if (lowerMsg.includes("mortgage") || lowerMsg.includes("buy")) botReply = "Buying involves down payment, credit, and more. Would you like help calculating affordability?";
  else if (lowerMsg.includes("crime")) botReply = "You can check local crime stats using neighborhoodscout.com or city-data.com.";
  else if (lowerMsg.includes("school")) botReply = "GreatSchools and Niche.com can help with school ratings in the area.";
  else if (lowerMsg.includes("pets")) botReply = "Pet policies vary by landlord. Be sure to check pet fees or restrictions.";
  else if (lowerMsg.includes("trend")) botReply = "Rental trends are seasonal. Would you like a chart of historical averages?";
  else if (lowerMsg.includes("zillow") || lowerMsg.includes("realtor")) botReply = "Zillow and Realtor.com are great, but I can explain listings or terms if you'd like.";
  else if (lowerMsg.includes("agent")) botReply = "If you're looking for a real estate agent, I recommend starting with a licensed local professional.";
  else if (lowerMsg.includes("rent too high")) botReply = "This price reflects market demand. If you're comparing, I can offer negotiation strategies.";

  chatLog.innerHTML += `<p class="text-gray-500">Assistant: ${botReply}</p>`;
  input.value = "";
  chatLog.scrollTop = chatLog.scrollHeight;
}
</script>

</body>
</html>


