<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Set character encoding and make the site mobile-friendly -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Website title -->
  <title>AI Rental Price Optimizer</title>
  
  <!-- Link to Tailwind CSS for styling -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800 font-sans min-h-screen flex flex-col items-center py-10">

  <!-- Main form container -->
  <div class="bg-white shadow-lg rounded-xl p-8 max-w-md w-full mb-10">
    <h1 class="text-2xl font-bold mb-4 text-center">AI Rental Price Optimizer</h1>
    <p class="text-center mb-6">Enter property details to get dynamic AI-powered rent pricing suggestions.</p>

    <!-- Input for ZIP code -->
    <input id="zip-input" type="text" maxlength="5" placeholder="Enter ZIP Code" class="w-full border border-gray-300 p-3 rounded mb-3" />
    
    <!-- Input for number of bedrooms -->
    <input id="beds-input" type="number" min="0" placeholder="# of Bedrooms" class="w-full border border-gray-300 p-3 rounded mb-4" />

    <!-- Button to get price suggestion -->
    <button id="lookup-btn" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Get AI Price Suggestion</button>

    <!-- Price result box (hidden at first) -->
    <div id="result" class="mt-6 hidden bg-gray-100 p-4 rounded text-center">
      <h2 class="text-xl font-semibold mb-2">Recommended Rent:</h2>
      <p id="price" class="text-2xl font-bold text-green-600">$---</p>
      <p id="confidence" class="mt-2 text-sm text-gray-700">Confidence: --%</p>
      <p id="season" class="mt-2 text-sm text-gray-500">Seasonal Trend: --</p>
    </div>
  </div>

  <!-- Section that explains what the tool does -->
  <div class="bg-white shadow-md rounded-xl p-8 max-w-xl w-full mb-10">
    <h2 class="text-xl font-bold mb-4 text-center">What This Tool Does</h2>
    <p class="text-gray-700 mb-4 text-center">Automatically analyzes comps, demand, and seasonality to suggest optimal rent pricing for landlords and Airbnb hosts.</p>

    <!-- Feature list -->
    <h3 class="text-lg font-semibold mb-3">Key Features:</h3>
    <ul class="list-disc list-inside text-sm space-y-2">
      <li>✔️ Dynamic pricing API for STR/long-term platforms</li>
      <li>✔️ "Rent Estimator" plugin for listings</li>
      <li>✔️ AI Chatbot to justify rent to potential tenants</li>
      <li>✔️ Market demand & seasonal adjustment logic</li>
    </ul>

    <!-- Buttons for API docs and chatbot -->
    <div class="mt-6 flex justify-around">
      <button class="bg-yellow-500 text-white py-2 px-4 rounded hover:bg-yellow-600" onclick="alert('API docs coming soon')">View API Docs</button>
      <button id="chatbot-btn" class="bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700">Try Chatbot</button>
    </div>
  </div>

  <!-- Chatbot popup (hidden at first) -->
  <div id="chatbot-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
    <div class="bg-white w-80 p-6 rounded-xl shadow-lg relative">
      <!-- Close button -->
      <button class="absolute top-2 right-2 text-gray-600 hover:text-black" onclick="closeChatbot()">&times;</button>
      
      <h2 class="text-lg font-bold mb-2 text-center">AI Leasing Assistant Chatbot</h2>
      
      <!-- Chat messages area -->
      <div id="chat-log" class="border h-48 overflow-y-auto p-2 mb-4 bg-gray-50 text-sm"></div>
      
      <!-- Chat input -->
      <input id="chat-input" type="text" placeholder="Type your question..." class="w-full border p-2 rounded mb-2" />
      
      <!-- Send button -->
      <button class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700" onclick="handleChat()">Send</button>
    </div>
  </div>

<script>
// Demo rent data by ZIP code
const demoData = {
  "90210": { base: 4200, season: "Peak Season", confidence: 95 },
  "10001": { base: 3300, season: "Moderate", confidence: 87 },
  "30301": { base: 2200, season: "Low Demand", confidence: 75 },
  "75001": { base: 2600, season: "Moderate", confidence: 82 },
  "60601": { base: 2800, season: "Peak Season", confidence: 90 },
  "94536": { base: 3100, season: "Peak Season", confidence: 89 }, // Fremont
};

// City to ZIP mapping
const cityZipMap = {
  "fremont": "94536",
  "beverly hills": "90210",
  "new york": "10001",
  "atlanta": "30301",
  "addison": "75001",
  "chicago": "60601"
};

// Rent suggestion handler (ZIP & bedrooms)
document.getElementById('lookup-btn').addEventListener('click', () => {
  const zip = document.getElementById('zip-input').value.trim();
  const beds = parseInt(document.getElementById('beds-input').value);
  const resultBox = document.getElementById('result');
  const priceText = document.getElementById('price');
  const confidenceText = document.getElementById('confidence');
  const seasonText = document.getElementById('season');

  if (!zip || isNaN(beds) || beds < 0) {
    alert("Please enter a valid ZIP code and bedroom count.");
    return;
  }

  let price = 2500 + beds * 150;
  let season = "Moderate";
  let confidence = 80;

  if (demoData[zip]) {
    price = demoData[zip].base + beds * 150;
    season = demoData[zip].season;
    confidence = demoData[zip].confidence;
  }

  priceText.textContent = $${price} / month;
  confidenceText.textContent = Confidence: ${confidence}%;
  seasonText.textContent = Seasonal Trend: ${season};
  resultBox.classList.remove('hidden');
});

// Show chatbot modal
document.getElementById('chatbot-btn').addEventListener('click', () => {
  const now = new Date();
  const hour = now.getHours();
  let greeting = "Hi there!";

  if (hour < 12) greeting = "Good morning!";
  else if (hour < 18) greeting = "Good afternoon!";
  else greeting = "Good evening!";

  document.getElementById('chatbot-modal').classList.remove('hidden');
  document.getElementById('chat-log').innerHTML = <p class="text-gray-500">Assistant: ${greeting} Ask me anything about this rental property or housing market!</p>;
});

// Close chatbot
function closeChatbot() {
  document.getElementById('chatbot-modal').classList.add('hidden');
}

// Send on Enter key
document.getElementById('chat-input').addEventListener('keypress', function (e) {
  if (e.key === 'Enter') handleChat();
});

// Chat logic
function handleChat() {
  const input = document.getElementById('chat-input');
  const chatLog = document.getElementById('chat-log');
  const userMessage = input.value.trim();
  if (!userMessage) return;

  chatLog.innerHTML += <p><strong>You:</strong> ${userMessage}</p>;

  setTimeout(() => {
    chatLog.innerHTML += <p class="text-gray-500"><em>Assistant is typing...</em></p>;
    chatLog.scrollTop = chatLog.scrollHeight;

    setTimeout(() => {
      chatLog.innerHTML = chatLog.innerHTML.replace(/<p class=\"text-gray-500\"><em>Assistant is typing\\.\\.\\.<\\/em><\\/p>/, '');
      const reply = generateReply(userMessage.toLowerCase());
      chatLog.innerHTML += <p class="text-gray-500">Assistant: ${reply}</p>;
      chatLog.scrollTop = chatLog.scrollHeight;
    }, 800);
  }, 500);

  input.value = "";
}

// Bot response engine with smart logic
function generateReply(msg) {
  for (const city in cityZipMap) {
    if (msg.includes(city)) {
      const zip = cityZipMap[city];
      const data = demoData[zip];
      if (data) {
        return The average rent in ${capitalize(city)} is around $${data.base}/month. Seasonal Trend: ${data.season}, Confidence: ${data.confidence}%.;
      }
    }
  }

  if (msg.includes("price") || msg.includes("cost") || msg.includes("rent"))
    return "Please tell me the city or ZIP code, and number of bedrooms, and I can give you a rent estimate!";

  if (msg.includes("buy") || msg.includes("own") || msg.includes("mortgage"))
    return "Buying a home depends on your credit score, down payment, and location. Would you like tips on getting started with a mortgage or first-time homebuyer advice?";

  if (msg.includes("sell"))
    return "If you're selling, location, condition, and timing matter most. Want tips on maximizing your home's value or pricing it competitively?";

  if (msg.includes("negotiate"))
    return "Yes, rental prices can often be negotiated, especially in off-peak seasons or with strong applications.";

  if (msg.includes("utilities"))
    return "Utilities vary by property. Some include water and trash, others may require tenants to cover everything.";

  if (msg.includes("available") || msg.includes("vacant"))
    return "This unit is currently listed as available. Want help contacting the property manager or scheduling a tour?";

  if (msg.includes("pets"))
    return "Pet policies vary. Some units charge pet rent or deposits. I recommend checking the listing details or asking the landlord.";

  if (msg.includes("school") || msg.includes("neighborhood"))
    return "You can check school ratings and neighborhood stats on sites like GreatSchools, Niche, or Realtor.com.";

  if (msg.includes("crime"))
    return "Safety is important! Check city-data.com or neighborhoodscout.com for crime statistics in the area you're researching.";

  if (msg.includes("trend") || msg.includes("market"))
    return "Real estate trends vary. Would you like data on recent price trends or buyer vs. seller market insights?";

  if (msg.includes("agent") || msg.includes("realtor"))
    return "Need a real estate agent? Let me know the city and I can recommend steps to find a licensed professional nearby.";

  if (msg.includes("zillow") || msg.includes("redfin"))
    return "Zillow and Redfin are great platforms to compare listings, but I can help you break down that info if you share a link!";

  if (msg.includes("thank")) return "You're very welcome! Let me know if there's anything else I can help with.";

  return "That’s a good question! Try asking about rent in a specific city, or anything else related to housing, real estate, or rentals.";
}

// Capitalize city name nicely
function capitalize(str) {
  return str.replace(/\b\w/g, c => c.toUpperCase());
}
</script>

</body>
</html>


